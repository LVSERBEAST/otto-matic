<form [formGroup]="form" (ngSubmit)="onSubmit()" class="grid gap-4 p-4 card">
  <div class="grid gap-2">
    <label for="client" class="label">Client</label>
    <select id="client" formControlName="clientId" class="select">
      <option value="" disabled>Select a client</option>
      @for (c of clients(); track c.id) {
      <option [value]="c.id">{{ c.name }}</option>
      } @empty {
      <option value="" disabled>No clients available</option>
      }
    </select>
    @if (form.controls.clientId.invalid && form.controls.clientId.touched) {
    <p class="text-xs text-red-600">Client is required.</p>
    }
  </div>

  <div class="grid md:grid-cols-2 gap-4">
    <div class="grid gap-2">
      <label class="label">Material</label>
      <input type="text" class="input" formControlName="material" />
    </div>
    <div class="grid gap-2">
      <label class="label">Quantity</label>
      <input type="number" class="input" formControlName="quantity" />
    </div>
    <div class="grid gap-2">
      <label class="label">Price Per Unit</label>
      <input type="number" step="0.01" class="input" formControlName="pricePerUnit" />
    </div>
    <div class="grid gap-2">
      <label class="label">Size</label>
      <input type="text" class="input" formControlName="size" />
    </div>
    <div class="grid gap-2">
      <label class="label">Finish Type</label>
      <input type="text" class="input" formControlName="finishType" />
    </div>
  </div>

  <div class="grid md:grid-cols-2 gap-4 items-start">
    <div class="grid gap-2">
      <label class="label">Setup Fee</label>
      <input type="number" step="0.01" class="input w-full max-w-xs" formControlName="setupFee" />
    </div>
    <div class="grid gap-2">
      <label class="label">Discount Rate (0.1 = 10%)</label>
      <input type="number" step="0.01" min="0" max="1" class="input w-full max-w-xs" formControlName="discountRate" />
    </div>
  </div>

  <div class="grid gap-2">
    <label class="label">Notes</label>
    <textarea rows="3" class="textarea" formControlName="notes"></textarea>
  </div>

  <div class="flex justify-end gap-2">
    <button type="reset" class="btn btn-outline">Reset</button>
    <button type="submit" [disabled]="form.invalid" class="btn btn-primary disabled:opacity-50">
      Add Quote
    </button>
  </div>
</form>
