@if (open()) {
<div class="fixed inset-0 z-[100] grid place-items-center p-4">
  <div class="absolute inset-0 bg-black/60" (click)="onClose()"></div>
  <div class="relative w-full max-w-md">
    <div class="card w-full p-6 card-hover max-h-[80vh] overflow-auto">
      <div class="flex items-start justify-between">
        <h3 class="text-lg font-semibold text-white">Sign in</h3>
        <button class="btn btn-ghost p-2 -mr-2" (click)="onClose()" aria-label="Close">✕</button>
      </div>
      <p class="mt-2 text-sm text-neutral-400">Use your email and password to continue.</p>

      @if (error()) {
      <div class="mt-3 text-sm text-red-400">{{ error() }}</div>
      }

      <form class="mt-6 grid gap-4" [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="grid gap-2">
          <label class="label" for="email">Email</label>
          <input id="email" type="email" class="input" formControlName="email" />
        </div>
        <div class="grid gap-2">
          <label class="label" for="password">Password</label>
          <input id="password" type="password" class="input" formControlName="password" />
        </div>
        <button
          class="btn btn-primary w-full"
          type="submit"
          [disabled]="form.invalid || signingIn()"
        >
          {{ signingIn() ? 'Signing in…' : 'Sign in' }}
        </button>
      </form>
    </div>
  </div>
</div>
}
