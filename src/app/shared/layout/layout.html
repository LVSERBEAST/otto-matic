<div class="layout-container">
  <!-- Sidebar Navigation -->
  <nav class="sidebar">
    <div class="sidebar-header">
      <a routerLink="/" class="logo">
        <div class="logo-icon">O</div>
        <span>Otto Matic</span>
      </a>
    </div>

    <div class="quick-actions">
      <button (click)="toggleActions()" class="quick-toggle">
        <span>⚡</span> Quick Actions
      </button>
      @if (showActions()) {
        <div class="action-buttons">
          <button class="btn btn-secondary btn-sm">Export</button>
          <button class="btn btn-secondary btn-sm">Reports</button>
        </div>
      }
    </div>

    <div class="nav-section">
      <div class="nav-section-title">Workspace</div>
      <a routerLink="/dashboard" routerLinkActive="active" class="nav-item">
        <div class="nav-icon">📊</div>
        <span>Dashboard</span>
      </a>
      <a routerLink="/quotes" routerLinkActive="active" class="nav-item">
        <div class="nav-icon">📝</div>
        <span>Quotes</span>
      </a>
      <a routerLink="/clients" routerLinkActive="active" class="nav-item">
        <div class="nav-icon">👤</div>
        <span>Clients</span>
      </a>
      <a routerLink="/jobs" routerLinkActive="active" class="nav-item">
        <div class="nav-icon">⚙️</div>
        <span>Jobs</span>
      </a>
    </div>

    @if (isLoggedIn()) {
    <div class="nav-section">
      <div class="nav-section-title">Tools</div>
      <a href="#" class="nav-item">
        <div class="nav-icon">📈</div>
        <span>Reports</span>
      </a>
      <a href="#" class="nav-item">
        <div class="nav-icon">⚙️</div>
        <span>Settings</span>
      </a>
    </div>
    }

    <!-- User Section at Bottom -->
    <div style="margin-top: auto; padding: 16px 24px; border-top: 1px solid var(--border-subtle);">
      @if (isLoggedIn()) {
        <div class="flex items-center gap-3 mb-4">
          <div class="client-avatar" style="width: 32px; height: 32px; font-size: 12px;">
            {{ userRole().charAt(0).toUpperCase() }}
          </div>
          <div class="flex-1">
            <div class="text-sm font-medium">{{ userRole() | titlecase }}</div>
            <div class="text-xs opacity-75">Online</div>
          </div>
        </div>
        <button (click)="logout()" class="btn btn-ghost w-full">
          <span>🚪</span>
          Logout
        </button>
      } @else {
        <div class="flex flex-col gap-2">
          <button (click)="openModal('admin')" class="btn btn-primary w-full">
            Login as Admin
          </button>
          <button (click)="openModal('dev')" class="btn btn-secondary w-full">
            Login as Dev
          </button>
        </div>
      }
    </div>
  </nav>

  <!-- Main Content Area -->
  <div class="main-content">
    <!-- Header -->
    

    <!-- Content -->
    <div class="content-area">
      <router-outlet />
    </div>
  </div>

  <!-- Login Modal -->
  <app-login-modal
    [open]="openLogin()"
    [requestRole]="requestedRole()"
    (close)="openLogin.set(false)"
  />
</div>
